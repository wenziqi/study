2020.10.29
今天继续优化代码。
主要是将消耗比较大的活动登陆处理逻辑延时处理，分散压力。优化后玩家登陆接口tps大概200左右，平均每次耗时从20ms降到10ms，提升一倍左右。

消耗最大的还是findnexttask接口，里面的代码居然是三重for循环。再加上主线任务的数量本来就比较多，登陆时也会调用这个接口，cpu简直高得不得了。这设计也真是离谱。现在想要动这一块简直是不可能。除非重新设计。


还有领取任务，参数居然不是任务id，而是任务类型，然后又是遍历查找。
根本原因还是任务系统设计不好。
